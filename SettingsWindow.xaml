 <Window x:Class="ShowWrite.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="设置" Height="498" Width="678"
        WindowStartupLocation="CenterOwner">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 左侧导航菜单 -->
        <ListBox x:Name="MenuList" Grid.Column="0" Background="#F0F0F0"
                 SelectionChanged="MenuList_SelectionChanged">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <TextBlock Text="{Binding}" Padding="10,5" FontSize="14"/>
                </DataTemplate>
            </ListBox.ItemTemplate>
            <ListBoxItem>通用</ListBoxItem>
            <ListBoxItem>高级</ListBoxItem>
            <ListBoxItem>关于</ListBoxItem>
        </ListBox>

        <!-- 右侧内容区域 -->
        <Grid Grid.Column="1">
            <!-- 通用设置 -->
            <Grid x:Name="GeneralPanel" Visibility="Visible">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10" Width="400">
                        <GroupBox Header="界面主题">
                            <StackPanel Margin="5">
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="UI主题:" VerticalAlignment="Center" Width="100"/>
                                    <ComboBox x:Name="ThemeComboBox" Width="200">
                                        <ComboBoxItem Content="深色" Tag="Dark"/>
                                        <ComboBoxItem Content="浅色" Tag="Light" IsSelected="True"/>
                                    </ComboBox>
                                </StackPanel>
                                <TextBlock Text="（更改主题后需要重启应用生效）" 
                                           FontSize="11" Foreground="Gray" Margin="0,5,0,0"/>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="启动设置" Margin="0,10,0,0">
                            <StackPanel Margin="5">
                                <CheckBox x:Name="StartMaximizedCheckBox" Content="启动时最大化窗口" Margin="0,5"/>
                                <CheckBox x:Name="AutoStartCameraCheckBox" Content="启动时自动打开摄像头" Margin="0,5"/>
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="默认摄像头:" VerticalAlignment="Center" Width="100"/>
                                    <ComboBox x:Name="CameraComboBox" Width="200"/>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="默认工具设置" Margin="0,10,0,0">
                            <StackPanel Margin="5">
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="默认画笔宽度:" VerticalAlignment="Center" Width="100"/>
                                    <Slider x:Name="PenWidthSlider" Minimum="1" Maximum="20" Width="200" Value="2"/>
                                    <TextBlock Text="{Binding Value, ElementName=PenWidthSlider}" 
                                               Width="30" TextAlignment="Right" Margin="5,0,0,0"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="默认画笔颜色:" VerticalAlignment="Center" Width="100"/>
                                    <ComboBox x:Name="PenColorComboBox" Width="200">
                                        <ComboBoxItem Content="红色" Tag="#FFFF0000"/>
                                        <ComboBoxItem Content="蓝色" Tag="#FF0000FF" IsSelected="True"/>
                                        <ComboBoxItem Content="绿色" Tag="#FF00FF00"/>
                                        <ComboBoxItem Content="黄色" Tag="#FFFFFF00"/>
                                        <ComboBoxItem Content="白色" Tag="#FFFFFFFF"/>
                                    </ComboBox>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

            <!-- 高级设置 -->
            <Grid x:Name="AdvancedPanel" Visibility="Collapsed">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="10" Width="400">
                        <GroupBox Header="视频处理">
                            <StackPanel Margin="5">
                                <CheckBox x:Name="EnableHardwareAccel" Content="启用硬件加速" Margin="0,5"/>
                                <CheckBox x:Name="EnableFrameProcessing" Content="启用实时画面处理" Margin="0,5"/>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="性能设置" Margin="0,10,0,0">
                            <StackPanel Margin="5">
                                <StackPanel Orientation="Horizontal" Margin="0,5">
                                    <TextBlock Text="帧率限制:" VerticalAlignment="Center" Width="100"/>
                                    <ComboBox x:Name="FrameRateComboBox" Width="200">
                                        <ComboBoxItem Content="无限制"/>
                                        <ComboBoxItem Content="30 FPS"/>
                                        <ComboBoxItem Content="25 FPS" IsSelected="True"/>
                                        <ComboBoxItem Content="20 FPS"/>
                                        <ComboBoxItem Content="15 FPS"/>
                                    </ComboBox>
                                </StackPanel>
                            </StackPanel>
                        </GroupBox>

                        <GroupBox Header="开发者模式" Margin="0,10,0,0">
                            <StackPanel Margin="5">
                                <CheckBox x:Name="DeveloperModeCheckBox" Content="启用开发者模式（显示鼠标速度）" Margin="0,5"/>
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                </ScrollViewer>
            </Grid>

            <!-- 关于 -->
            <Grid x:Name="AboutPanel" Visibility="Collapsed">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="20">
                        <TextBlock Text="ShowWrite 视频展台" FontSize="20" FontWeight="Bold"/>
                        <TextBlock Margin="0,10">
                <Run Text="版本: "/>
                <Run x:Name="VersionText"/>
                        </TextBlock>
                        <TextBlock Text="© 智教联盟" Margin="0,5"/>
                        <TextBlock Text="本软件基于AForge.NET和ZXing库开发" Margin="0,20,0,5"/>

                        <TextBlock TextWrapping="Wrap" Margin="0,20,0,0">
                <Run Text="本次更新的顺利发布，离不开"/>
                <Run Text="开发者（也就是我）" FontWeight="Bold" Foreground="#FF2C3E50"/>
                <Run Text="的持续投入，以及"/>
                <Run Text="开发团队（还是我）" FontWeight="Bold" Foreground="#FF2C3E50"/>
                <Run Text="的昼夜奋战。当然，也少不了各大 AI 大模型的助力。"/>
                        </TextBlock>

                        <TextBlock TextWrapping="Wrap" Margin="0,10,0,0">
                <Run Text="从 1.0 版本一路走来，我们经历了："/>
                        </TextBlock>

                        <StackPanel Margin="20,10,0,0">
                            <TextBlock Text="• 很多次 Bug 修复"/>
                            <TextBlock Text="• 很多次 代码重构与优化" Margin="0,5,0,0"/>
                            <TextBlock Text="• 🙏 特别鸣谢：佛祖对本软件的加持与庇佑" Margin="0,5,0,0"/>
                            <TextBlock Text="（详情请参见 MainWindow.xaml.cs 中的神秘注释）" Foreground="#666" Margin="20,0,0,0"/>
                        </StackPanel>

                        <TextBlock TextWrapping="Wrap" Margin="0,20,0,0" Foreground="#2C3E50">
                <Run Text="愿代码无 Bug，运行如飞。" FontWeight="Bold"/>
                <LineBreak/>
                <Run Text="—— 开发者 敬上"/>
                        </TextBlock>

                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,30,0,0">
                            <Button Content="检查更新" Padding="10,5" Margin="0,0,10,0"/>
                            <Button Content="访问官网" Padding="10,5" Click="VisitWebsiteButton_Click"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Grid>

        <!-- 底部按钮 -->
        <StackPanel Grid.ColumnSpan="2" Orientation="Horizontal" 
                    HorizontalAlignment="Right" VerticalAlignment="Bottom" 
                    Margin="10">
            <Button Content="确定" Width="80" Height="30" Margin="0,0,10,0" Click="OkButton_Click"/>
            <Button Content="取消" Width="80" Height="30" Click="CancelButton_Click"/>
        </StackPanel>
    </Grid>
</Window>